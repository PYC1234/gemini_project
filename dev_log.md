# 研发日志记录指南 (for Gemini CLI)

本文档为 Gemini CLI 提供指导，说明如何在开发过程中自动、规范地记录研发日志。

## 核心指令

当接收到用户启动日志记录的指令后，针对后续的每一次关键操作，都应向 `dev_log.md` 文件**追加**一条新的日志条目。

**关键操作包括但不限于：**
- 接收到新的用户指令
- 分析用户需求或进行决策的思考过程
- 读取或写入文件
- 执行 shell 命令
- 生成或修改代码
- 在过程中遇到的问题、错误及其解决方案

## 日志条目格式

请使用统一的 Markdown 格式追加日志，以确保日志的清晰和一致性。每次记录都应由 `---` 分隔。

```markdown
---
**时间**: YYYY-MM-DD HH:MM:SS
**操作**: [操作类型]
**描述**: [对操作的具体描述，例如：读取 `package.json` 文件以分析项目依赖]
**输入/命令**:
'''
[此处填写具体的命令、输入参数或代码]
'''
**结果/思考**:
'''
[此处填写操作的直接结果、输出摘要或决策背行的思考过程]
'''
```

### 操作类型参考
- `用户指令`: 用户下达的原始指令。
- `思考`: 在执行具体动作前的分析和计划。
- `文件操作`: 读取、写入、删除或列出文件/目录。
- `命令执行`: 运行的 shell 命令。
- `代码生成`: 创建或修改了代码。
- `问题/错误`: 在过程中遇到的问题或错误。

## 如何启动日志记录

当用户下达 **"Gemini，请开始记录研发日志"** 或类似指令时，你应确认并开始遵循此份指南，将所有后续活动记录到 `dev_log.md`。

## 日志示例

---
**时间**: 2023-10-27 10:01:35
**操作**: 用户指令
**描述**: 用户要求为项目创建 `manual.md`。
**输入/命令**:
'''
对这个项目写一个manual.md，详细说明如何配置环境和运行脚本
'''
**结果/思考**:
'''
收到指令。计划先读取 `package.json` 和 `run_all.js` 来理解项目结构和依赖。
'''

---
**时间**: 2023-10-27 10:02:10
**操作**: 文件操作
**描述**: 读取 `package.json` 和 `run_all.js` 文件。
**输入/命令**:
'''python
print(default_api.read_many_files(paths=["C:\Users\29248\Desktop\gemini_project\package.json", "C:\Users\29248\Desktop\gemini_project\run_all.js"]))
'''
**结果/思考**:
'''
文件读取成功。
- 依赖: `dotenv`, `fs-extra`, `sharp`
- 入口脚本: `run_all.js`
- 无 `scripts` 命令，需要使用 `node` 直接运行。
'''

---
**时间**: 2023-10-27 10:05:00
**操作**: 代码生成
**描述**: 创建 `manual.md` 文件并写入说明内容。
**输入/命令**:
'''python
print(default_api.write_file(content="# 项目手册...", file_path="C:\Users\29248\Desktop\gemini_project\manual.md"))
'''
**结果/思考**:
'''
`manual.md` 文件已成功创建。日志记录了从需求分析到最终文件生成的全过程。
'''

```